<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="div1">ghjk</div>
<ul>
    <li>01</li>
    <li class="aa">02</li>
    <li class="aa">03</li>
    <li>04</li>
</ul>
<script>

    // jq最核心的是$,他是一个函数.函数中返回一个自定义的jq对象,她是一个类,在这个类的原形下有许多jq自定义的方法.
    // 每次调用$返回一个新的jq对象,同时在$函数中根据传入参数的类型,函数或者字符串.
    // 把选中的元素存在数组中,遍历这个数组,取出每个元素进行dom操作.
    // 在每一个方法中,return this,this就是在$函数中返回的jq对象..链式操作

    //$('#div1').on.css
    //$('.aa')
    function $(selector,context){
        return new Jquery(selector,context);
    };
    function Jquery(selector,context){
        this.element = [];
        if(typeof selector == 'string'){
            if(selector.charAt(0) == '#' ){
                this.element.push(document.getElementById(selector.substring(1)));
            }else if(selector.charAt(0) == '.'){
                this.element = getEleByClassName(selector.substring(1),context);
            }
        }else if(typeof selector == 'function'){
            addEvent(document,'DOMContentLoaded',selector,false);
        }
    };

    Jquery.prototype.on = function(type,fn){
        for(var i=0; i<this.element.length; i++){
            addEvent(this.element[i],type,fn,false);
        }
        return this;
    };

    function addEvent(elem,type,fn,flag){
        if(elem.addEventListener){//标准浏览器
            elem.addEventListener(type,fn,flag);  //给每个元素绑事件
        }else{//ie浏览器
            elem.attachEvent('on'+type, function(){
                fn.call(elem);
            });
            //绑定事件 this指向window
        }
    }
    Jquery.prototype.css = function(str1,str2){
        for(var i=0; i<this.element.length; i++){
            if(typeof str1 == 'string' && typeof str2 == 'string'){
                this.element[i].style[str1] = str2;
            }else if(typeof str1 == 'object' && typeof str2 == 'undefined'){
                for(key in str1){
                    this.element[i].style[key] = str1[key];
                }
            }
        }
        return this;
    }
    /* console.log(typeof aa);
     console.log($('#div1'));
     console.log($('.aa'));*/
 /*   $(function(){
        console.log(111);
    });
    $(function(){
        console.log(222);
    });*/

    $('#div1').on('click',function(){
        console.log(111)
    }).css('backgroud','blue');
//    $('.aa').css('background','red');
   /* $('.aa').css({
        background:'green',
        color:'#f00'
    });*/

    function getEleByClassName(clsName,context){
        var result = [];
        var parentEle = context || document;
        var allELe = parentEle.getElementsByTagName('*');
        for(var i=0; i<allELe.length; i++){
            var arr = allELe[i].className.split(' '); //'aa bb' ==> ['aa','bb']; ['aabb']
            for(var j=0; j<arr.length; j++){
                if(arr[j] == clsName){
                    result.push(allELe[i]);
                }
            }
        }
        return result;
    }

    function addEvent(elem,type,fn,flag){
        if(elem.addEventListener){//标准浏览器
            elem.addEventListener(type,fn,flag);
        }else{//ie浏览器
            elem.attachEvent('on'+type, function(){
                fn.call(elem);
            });
            //绑定事件 this指向window
        }
    }
    //DOMContentLoaded







    






</script>



</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="div1">ghjk</div>
<ul>
    <li>01</li>
    <li class="aa">02</li>
    <li class="aa">03</li>
    <li>04</li>
</ul>
<script>

    // jq最核心的是$,他是一个函数.函数中返回一个自定义的jq对象,她是一个类,在这个类的原形下有许多jq自定义的方法.
    // 每次调用$返回一个新的jq对象,同时在$函数中根据传入参数的类型,函数或者字符串.
    // 把选中的元素存在数组中,遍历这个数组,取出每个元素进行dom操作.
    // 在每一个方法中,return this,this就是在$函数中返回的jq对象..链式操作

    //$('#div1').on.css
    //$('.aa')
    /* $(function(){
        
        })

    //DOMContentLoaded */
    function $(selector,context){
        return new Jquery(selector,context);
    };
    function Jquery(selector,context){
        this.element = [];
        if(typeof selector == 'string'){
            if(selector.charAt(0) == '#' ){
                this.element.push(document.getElementById(selector.substring(1)));
            }else if(selector.charAt(0) == '.'){
                this.element = getEleByClassName(selector.substring(1),context);
            }
        }else if(typeof selector == 'function'){
            addEvent(document,'DOMContentLoaded',selector,false);
        }
    };

    Jquery.prototype.on = function(type,fn){
        for(var i=0; i<this.element.length; i++){
            addEvent(this.element[i],type,fn,false);
        }
        return this;
    };

    function addEvent(elem,type,fn,flag){
        if(elem.addEventListener){//标准浏览器
            elem.addEventListener(type,fn,flag);  //给每个元素绑事件
        }else{//ie浏览器
            elem.attachEvent('on'+type, function(){
                fn.call(elem);
            });
            //绑定事件 this指向window
        }
    }

    Jquery.prototype.css = function(str1,str2){
        for(var i=0; i<this.element.length; i++){
            if(typeof str1 == 'string' && typeof str2 == 'string'){
                this.element[i].style[str1] = str2;
            }else if(typeof str1 == 'object' && typeof str2 == 'undefined'){
                for(key in str1){
                    this.element[i].style[key] = str1[key];
                }
            }
        }
        return this;
    }
    /* console.log(typeof aa);
     console.log($('#div1'));
     console.log($('.aa'));*/
 /*   $(function(){
        console.log(111);
    });
    $(function(){
        console.log(222);
    });*/

    $('#div1').on('click',function(){
        console.log(111)
    }).css('backgroud','blue');
//    $('.aa').css('background','red');
   /* $('.aa').css({
        background:'green',
        color:'#f00'
    });*/

    function getEleByClassName(clsName,context){
        var result = [];
        var parentEle = context || document;
        var allELe = parentEle.getElementsByTagName('*');
        for(var i=0; i<allELe.length; i++){
            var arr = allELe[i].className.split(' '); //'aa bb' ==> ['aa','bb']; ['aabb']
            for(var j=0; j<arr.length; j++){
                if(arr[j] == clsName){
                    result.push(allELe[i]);
                }
            }
        }
        return result;
    }

    function addEvent(elem,type,fn,flag){
        if(elem.addEventListener){//标准浏览器
            elem.addEventListener(type,fn,flag);
        }else{//ie浏览器
            elem.attachEvent('on'+type, function(){
                fn.call(elem);
            });
            //绑定事件 this指向window
        }
    }
    //DOMContentLoaded






   /*  
        jq  原生对象   转化
        $('#div1')[0]   .get(0)
        $(document.getElementById('#div1'))
        $(this)
    */



    






</script>



</body>
</html>

    
</body>
</html>